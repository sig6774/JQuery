<!DOCTYPE html>
<html lang="ko">


<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="lib/jquery-3.6.0.min.js"></script>
</head>

<body>
    <ul id="test">
        <li id="tag">태그 1</li>
        <li id="tag">태그 2</li>
        <li id="tag">태그 3</li>
    </ul>

    <script>
        // li태그에 모두 동일한 이벤트를 등록
        // 부모태그에 이벤트를 등록하고 onclick시 전달되는 이벤트 객체를 이용해서 확인

        // 기존 JavaScript 방식 
        /*
        const $test = document.getElementById('test');
        function a(event){
            if(!event.target.matches('#test > li')){
            // 이벤트가 발생한 곳이 li태그가 맞는지 확인하는 로직
                return;
                // li요소가 아니므로 종료 
            } 
            console.log(event.target.textContent);
        };

        $test.addEventListener('click', a);

        */

        // JQuery 방식 
        // on(이벤트 종류, 이벤트를 전파할 요소, 이벤트 기능)
        $('#test').on('click', 'li', function() {

            // $(this)는 이벤트가 발생한 주체(태그, 요소)를 의미
            console.log($(this).html());
        })
    </script>

    <div id="box">

        <script>
            $(function() {
                // on 함수는 실행 순서에 영향을 받지 않고 이벤트가 발생하는 순간 on함수에 지정한 이벤트를 발동
                // 이는 실행 순서와 상관없는 비동기 통신을 진행할 때 유리
                $('#box').on('click', 'a',function(event) {
                    alert('실행되나요?');
                    // id가 box인 요소에 a태그인 곳을 클릭하게 되면 이벤트 발생
                });
                let str = '';
                str += '<a href="#">태그1</a> <br>';
                str += '<a href="#">태그2</a> <br>';
                str += '<a href="#">태그3</a> <br>';
                $('#box').html(str);
                // id가 box인 곳에 삽입

                // a태그가 이벤트 선언 이후에 생성되었는데 on함수는 실행 순서에 영향을 받지 않음
            });

        </script>
    </div>

</body>

</html>